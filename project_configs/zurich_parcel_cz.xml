<opus_project>
  <xml_version>2.0</xml_version>
  <general>
    <description type="string">SustainCity: Zurich case study cz</description>
    <parent type="file">zurich_parcel/configs/zurich_parcel.xml</parent>
    <expression_library type="dictionary">
      <variable use="both" source="expression" name="building_x_parcel.INWORK_SC_building_fit_parcel_plan" type="variable_definition">building.land_area - parcel.aggregate(development_constraints.max, intermediates=[development_constraint, plan_type])</variable>
      <variable use="both" source="expression" name="building_x_parcel.SC_building_fit_parcel" type="variable_definition">building.land_area - parcel.parcel_sqft</variable>
      <variable use="both" source="expression" name="parcel.SC_plan_type_id_smaller_7000" type="variable_definition">parcel.plan_type_id &lt; 7000</variable>
      <variable use="both" source="expression" name="parcel.SC_ln_jobs_within_56" type="variable_definition">ln(urbansim_parcel.parcel.jobs_within_56_of_parcel)</variable>
      <variable use="both" source="Python class" name="parcel.SC_jobs_within_56" type="variable_definition">urbansim_parcel.parcel.jobs_within_56_of_parcel</variable>
      <variable use="model variable" source="expression" name="parcel.SC_ln_pop_ha" type="variable_definition">ln(zurich_parcel.parcel.persons_within_56_of_parcel)</variable>
      <variable use="both" source="expression" name="parcel.SC_dist_to_station" type="variable_definition">parcel.dist_to_station</variable>
      <variable use="both" source="primary attribute" name="parcel.SC_slope" type="variable_definition">parcel.slope</variable>
      <variable use="both" source="primary attribute" name="parcel.SC_dist_to_zh_cbd" type="variable_definition">parcel.dist_to_zh_cbd</variable>
    </expression_library>
    <available_datasets type="list">['building_x_parcel','building','parcel','household','business','household_x_building','zone','tract','district14','district24','alldata','pdist','buildings_for_estimation', 'development_event_history', 'job_x_building']</available_datasets>
  </general>
  <model_manager>
    <models config_name="model_system" hidden="False" name="Models" setexpanded="True" type="dictionary">
      <model name="SC_building_transition_model" type="model">
        <structure type="dictionary">
          <run type="dictionary">
            <argument name="sample_filter" type="string">"numpy.logical_and(building.year_built &gt; 1990, building.building_type_id&lt;&gt;7)"</argument>
          </run>
        </structure>
      </model>
      <model name="SC_building_location_choice_model_from_template" type="model">
        <structure type="dictionary">
          <init type="dictionary">
            <argument convert_blank_to_none="True" name="filter" parser_action="quote_string" type="string" model_dependency_type="variable">SC_plan_type_id_smaller_7000</argument>
          </init>
          <prepare_for_estimate type="dictionary">
            <argument name="agents_for_estimation_table" parser_action="quote_string" type="string" model_dependency_type="table">buildings_for_estimation</argument>
            <argument convert_blank_to_none="True" name="filter" parser_action="quote_string" type="string" model_dependency_type="variable">building.year_built&gt;2000</argument>
          </prepare_for_estimate>
        </structure>
        <specification type="dictionary" inherit_parent_values="False">
          <submodel hidden="Children" name="submodel" submodel_id="-2" type="submodel">
            <description type="string">A sample submodel. In order to estimate the model, please add at least one variable.</description>
            <variable_list type="variable_list">
              <variable_spec name="building_x_parcel.SC_building_fit_parcel"/>
              <variable_spec name="parcel.SC_dist_to_zh_cbd"/>
              <variable_spec name="parcel.SC_jobs_within_56"/>
              <variable_spec name="parcel.SC_ln_pop_ha"/>
              <variable_spec name="parcel.SC_logit_foreigners_within_56_of_parcel"/>
              <variable_spec name="parcel.SC_slope"/>
            </variable_list>
          </submodel>
        </specification>
      </model>
      <model name="employment_location_choice_model" type="model">
        <specification type="dictionary">
          <submodel_group name="home_based" type="submodel_group">
            <submodel hidden="Children" name="submodel" submodel_id="-2" type="submodel" inherit_parent_values="False">
              <description type="string">No submodel</description>
              <variable_list type="variable_list">
                <variable_spec name="building.blngcdacbd"/>
              </variable_list>
            </submodel>
          </submodel_group>
          <submodel_group name="non_home_based" type="submodel_group">
            <submodel hidden="Children" name="submodel" submodel_id="-2" type="submodel">
              <description type="string">No submodel</description>
              <variable_list type="variable_list">
                <variable_spec name="job_x_building.RH_distance_to_CBD_hotelbar"/>
                <variable_spec name="job_x_building.RH_distance_to_CBD_indust"/>
                <variable_spec name="job_x_building.RH_distance_to_CBD_service"/>
                <variable_spec name="job_x_building.RH_distance_to_CBD_trade"/>
                <variable_spec name="job_x_building.RH_distance_to_CBD_wtrade"/>
                <variable_spec name="job_x_building.RH_distance_to_HW_hotelbar"/>
                <variable_spec name="job_x_building.RH_distance_to_HW_indust"/>
                <variable_spec name="job_x_building.RH_distance_to_HW_service"/>
                <variable_spec name="job_x_building.RH_distance_to_HW_trade"/>
                <variable_spec name="job_x_building.RH_distance_to_HWnet_hotelbar"/>
                <variable_spec name="job_x_building.RH_distance_to_HWnet_indust"/>
                <variable_spec name="job_x_building.RH_distance_to_HWnet_service"/>
                <variable_spec name="job_x_building.RH_distance_to_HWnet_trade"/>
                <variable_spec name="job_x_building.RH_distance_to_PT_hotelbar"/>
                <variable_spec name="job_x_building.RH_distance_to_PT_indust"/>
                <variable_spec name="job_x_building.RH_distance_to_PT_service"/>
                <variable_spec name="job_x_building.RH_distance_to_PT_trade"/>
                <variable_spec name="job_x_building.RH_distance_to_PT_wtrade"/>
                <variable_spec name="job_x_building.RH_imp_value_hotelbar"/>
                <variable_spec name="job_x_building.RH_imp_value_indust"/>
                <variable_spec name="job_x_building.RH_imp_value_service"/>
                <variable_spec name="job_x_building.RH_imp_value_trade"/>
                <variable_spec name="job_x_building.RH_imp_value_wtrade"/>
                <variable_spec name="job_x_building.RH_ln_surf_hotelbar"/>
                <variable_spec name="job_x_building.RH_ln_surf_indust"/>
                <variable_spec name="job_x_building.RH_ln_surf_service"/>
                <variable_spec name="job_x_building.RH_ln_surf_trade"/>
                <variable_spec name="job_x_building.RH_parcel_land_hotelbar"/>
                <variable_spec name="job_x_building.RH_parcel_land_indust"/>
                <variable_spec name="job_x_building.RH_parcel_land_service"/>
                <variable_spec name="job_x_building.RH_parcel_land_trade"/>
                <variable_spec name="job_x_building.RH_parcel_land_wtrade"/>
                <variable_spec name="job_x_building.RH_pop_dens_hotelbar"/>
                <variable_spec name="job_x_building.RH_pop_dens_indust"/>
                <variable_spec name="job_x_building.RH_pop_dens_service"/>
                <variable_spec name="job_x_building.RH_pop_dens_trade"/>
                <variable_spec name="job_x_building.RH_pop_dens_wtrade"/>
              </variable_list>
            </submodel>
          </submodel_group>
        </specification>
      </model>
    </models>
  </model_manager>
  <scenario_manager>
    <scenario name="test_run" type="scenario" executable="True">
      <advanced type="category">
        <datasets_to_preload parser_action="list_to_dictionary" type="selectable_list">
          <selectable name="buildings_for_estimation" type="selectable">False</selectable>
          <selectable name="development_event_history" type="selectable">False</selectable>
        </datasets_to_preload>
      </advanced>
      <models_to_run config_name="models" type="selectable_list">
        <selectable return_value="household_transition_model" type="selectable" name="household_transition_model_1">False</selectable>
        <selectable return_value="household_relocation_model" type="selectable" name="household_relocation_model_1">False</selectable>
        <selectable return_value="Copy of household_location_choice_model" type="selectable" name="Copy of household_location_choice_model_1">False</selectable>
        <selectable return_value="LAST of SC_workplace_location_choice" type="selectable" name="LAST of SC_workplace_location_choice_1">False</selectable>
      </models_to_run>
    </scenario>
  </scenario_manager>
  <results_manager>
    </results_manager>
</opus_project>

